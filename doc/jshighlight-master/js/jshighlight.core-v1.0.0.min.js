/**
 * User: dying-zhang
 * Date: 13-5-6
 * Time: 下午4:31
 * Email:97532151@qq.com
 * Site: http://sanjh.cn
 */
JSHL.language=JSHL.language||{};JSHL.language.javascript={reg:{doc:/.?(\/\*{2}[\s\S]*?\*\/)/,com:/(\/\*(?!\*)[\s\S]*?\*\/|\/\/.*)/,str:/('(?:(?:\\'|[^'\r\n])*?)'|"(?:(?:\\"|[^"\r\n])*?)")/,key:/(?:[^\$_@\w])(break|delete|function|return|typeof|arguments|case|do|if|switch|var|catch|else|in|this|void|continue|instanceof|throw|while|debugger|finally|new|with|default|for|null|try)(?![$_@\w])/,obj:/(?:[^\$_@\w])(Array|String|Date|Math|Boolean|Number|Function|Global|Error|RegExp|Object|window|document)(?:[^$_@\w])/,num:/\b(\d+(?:\.\d+)?(?:[Ee][-+]?(?:\d)+)?|NaN|Infinity)\b/,bol:/(?:[^$_@\w])(true|false)(?:[^$_@\w])/,ope:/(==|=|===|\+|-|\+=|-=|\*=|\\=|%=|&lt;|&lt;=|&gt;|&gt;=)/}};JSHL.language.html={cls:["com","mrk","attr","val"],reg:{com:/(&lt;\!--[\s\S]*?--&gt;)/,mrk:/(&lt;\/?\w+(?:.*?)&gt;)/},markup:true,include:[{lang:"javascript",wrapper:/<script>([\s\S]*?)<\/script>/g},{lang:"css",wrapper:/<style>([\s\S]*?)<\/style>/g}]};JSHL.language.css={cls:["com","attr","key","val"],reg:{com:/(\/\*[\s\S]*?\*\/)/,key:/([^{\n\$\|]*?){/,obj:/(?:([\w-]+?)\s*\:([\w\s"',\-\#]*))/}};JSHL.extendLanguage=function(b,a){JSHL.language[b]=a;if(a.wrapper){JSHL.language[a.wrapper].include.push(a.content);}JSHL(b);};function JSHL(f){var d=document.getElementsByTagName("pre"),h=d.length,b=null,g=0,a="javascript",e,k;function j(l){return l.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r?\n)$/g,"");}function c(n){var m=['<div class="',"jshl-linenum",'">'],l=1;for(;l<n;l+=1){m.push(l+".<br/>");}m.push(n,".</div>");return m.join("");}function i(v,E,m){if(!(E in JSHL.language)){return v+(m?c(v.split("\n").length):"");}var x=JSHL.language[E];if(m&&x.wrapper){x=JSHL.language[x.wrapper];}if(!x){return v+(m?c(v.split("\n").length):"");}v="|"+v+"|";var t=/(&lt;div class="jshl-linenum"&gt;(?:.*?)&lt;\/div&gt;)/g;if(t.test(v)){v=v.replace(t,"{@jshl-linenum@}");}var A=x.reg,B=x.markup,n=x.cls||[],C=(n.length===0),u=x.include,s=[],r=[],D="",q,o=["doc","com","mrk","str","key","var","obj","num","bol","ope"],w=[],z=o.length,y=0;for(;y<z;y+=1){if(A[o[y]]){w.push(A[o[y]].source);C&&n.push(o[y]);}}A=new RegExp(w.join("|"),"g");if(u&&u.length>0){for(y=0;y<u.length;y+=1){q=new RegExp(u[y].wrapper.source.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"gi");v=v.replace(q,function(p,l){D="{@"+Math.random()+"@}";r.push(D);s.push(i(l,u[y].lang,false));return p.replace(l,D);});}}v=v.replace(A,function(){var F=Array.prototype.slice.call(arguments,0),H=null,G=null,l=F.length-2,p=l;for(;p>0;p-=1){G=F[p];if(G){if(B&&n[p-1]==="mrk"){H=G.replace(/(\w+)=(".*?")/g,'<span class="'+JSHL.language.html.cls[2]+'">$1</span>=<span class="'+JSHL.language.html.cls[3]+'">$2</span>');}F[0]=F[0].replace(G,'<span class="'+n[p-1]+'">'+(H!==null?H:G)+"</span>");}}return F[0];});for(y=0;y<r.length;y++){v=v.replace(new RegExp("{@.*?"+r[y].replace(/[{@}]/g,"")+".*?@}","g"),r[y]).replace(r[y],s[y]);}return v.replace(/^(\|)|(\|)$/g,"").replace("{@jshl-linenum@}","")+(m?c(v.split("\n").length):"");}for(;g<h;g+=1){b=d[g];a=b.getAttribute("data-language").toLowerCase()||a;if(typeof f!=="undefined"&&a!==f){continue;}e=j(b.innerHTML);if(b.outerHTML){k=b.outerHTML.match(/<\w+\s*(.*?)>/)[1];b.outerHTML="<pre "+k+">"+i(e,a,true)+"</pre>";}else{b.innerHTML=i(e,a,true);}}}JSHL();