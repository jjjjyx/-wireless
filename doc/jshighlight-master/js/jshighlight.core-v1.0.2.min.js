/**
 * User: dying-zhang
 * Date: 5/14/13
 * Time: 2:03 PM
 * Email:97532151@qq.com
 * Site: http://sanjh.cn
 */
JSHL.language=JSHL.language||{};JSHL.language.javascript={reg:{doc:/.?(\/\*{2}[\s\S]*?\*\/)/,com:/(\/\*(?!\*)[\s\S]*?\*\/|\/\/.*)/,str:/('(?:(?:\\'|[^'\r\n])*?)'|"(?:(?:\\"|[^"\r\n])*?)")/,key:/(?:[^\$_@\w])(break|delete|function|return|typeof|arguments|case|do|if|switch|var|catch|else|in|this|void|continue|instanceof|throw|while|debugger|finally|new|with|default|for|null|try)(?![$_@\w])/,obj:/(?:[^\$_@\w])(Array|String|Date|Math|Boolean|Number|Function|Global|Error|RegExp|Object|window|document)(?:[^$_@\w])/,num:/\b(\d+(?:\.\d+)?(?:[Ee][-+]?(?:\d)+)?|NaN|Infinity)\b/,bol:/(?:[^$_@\w])(true|false)(?:[^$_@\w])/,ope:/(==|=|===|\+|-|\+=|-=|\*=|\\=|%=|&lt;|&lt;=|&gt;|&gt;=)/}};JSHL.language.html={cls:["com","mrk","attr","val"],reg:{com:/(&lt;\!--[\s\S]*?--&gt;)/,mrk:/(&lt;\/?\w+(?:.*?)&gt;)/},markup:true,include:[{lang:"javascript",wrapper:/<script>([\s\S]*?)<\/script>/g},{lang:"css",wrapper:/<style>([\s\S]*?)<\/style>/g}]};JSHL.language.css={cls:["com","attr","key","val"],reg:{com:/(\/\*[\s\S]*?\*\/)/,key:/([^{\n\$\|]*?){/,obj:/(?:([\w-]+?)\s*\:([\w\s"',\-\#]*))/}};JSHL.extendLanguage=function(b,a){JSHL.language[b]=a;if(a.wrapper){JSHL.language[a.wrapper].include.push(a.content)}JSHL(b)};function JSHL(f){var d=document.getElementsByTagName("pre"),h=d.length,b=null,g=0,a="javascript",e,k;function j(l){return l.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r?\n)$/g,"")}function c(n){var m=['<div class="',"jshl-linenum",'">'],l=1;for(;l<n;l+=1){m.push(l+".<br/>")}m.push(n,".</div>");return m.join("")}function i(w,F,m){if(!(F in JSHL.language)){return w+(m?c(w.split("\n").length):"")}var y=JSHL.language[F];if(m&&y.wrapper){y=JSHL.language[y.wrapper]}if(!y){return w+(m?c(w.split("\n").length):"")}w=" "+w+" ";var u=/(&lt;div class="?jshl-linenum"?&gt;(?:.*?)&lt;\/div&gt;)/ig;if(u.test(w)){w=w.replace(u,"{@jshl-linenum@}")}var B=y.reg,C=y.markup,o=y.cls||[],D=(o.length===0),v=y.include,t=[],s=[],E="",r,q=["doc","com","mrk","str","key","var","obj","num","bol","ope"],x=[],A=q.length,z=0;for(;z<A;z+=1){if(B[q[z]]){x.push(B[q[z]].source);D&&o.push(q[z])}}B=new RegExp(x.join("|"),"g");if(v&&v.length>0){for(z=0;z<v.length;z+=1){r=new RegExp(v[z].wrapper.source.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"gi");w=w.replace(r,function(p,l){E="{@"+Math.random()+"@}";s.push(E);t.push(i(l,v[z].lang,false));return p.replace(l,E)})}}w=w.replace(B,function(){var G=Array.prototype.slice.call(arguments,0),I=null,H=null,l=G.length-2,p=l;for(;p>0;p-=1){H=G[p];if(H){if(C&&o[p-1]==="mrk"){I=H.replace(/(\w+)=(".*?")/g,'<span class="'+JSHL.language.html.cls[2]+'">$1</span>=<span class="'+JSHL.language.html.cls[3]+'">$2</span>')}G[0]=G[0].replace(H,'<span class="'+o[p-1]+'">'+(I!==null?I:H)+"</span>")}}return G[0]});for(z=0;z<s.length;z++){w=w.replace(new RegExp("{@.*?"+s[z].replace(/[{@}]/g,"")+".*?@}","g"),s[z]).replace(s[z],t[z])}function n(l){return/^\s+$/.test(l)?"":l.replace(/(\s+)$/,"")}return w.replace(/^(\<.*?\>)*(\s)|(\s)$/g,n).replace("{@jshl-linenum@}","")+(m?c(w.split("\n").length):"")}for(;g<h;g+=1){b=d[g];a=(b.getAttribute("data-language")||a).toLowerCase();if(typeof f!=="undefined"&&a!==f){continue}e=j(b.innerHTML);if(b.outerHTML){k=b.outerHTML.match(/<\w+\s*(.*?)>/)[1];b.outerHTML="<pre "+k+">"+i(e,a,true)+"</pre>"}else{b.innerHTML=i(e,a,true)}}}JSHL();